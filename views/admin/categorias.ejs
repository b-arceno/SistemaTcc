<%- include('../partials/adminHeader', { titulo: 'Categorias' }) %>

<h1>Gerenciar Categorias</h1>

<form 
  class="form-categoria"
  action="<%= categoriaEdit ? '/admin/categorias/editar/' + categoriaEdit.id : '/admin/categorias' %>" 
  method="POST"
>
  <label for="nome"><%= categoriaEdit ? 'Editar Categoria' : 'Nova Categoria' %></label>
  <input 
    type="text" 
    id="nome" 
    name="nome" 
    value="<%= categoriaEdit ? categoriaEdit.nome : '' %>" 
    required
  >
  <button type="submit" class="btn btn-cadastrar">
    <%= categoriaEdit ? 'Salvar Alterações' : 'Cadastrar' %>
  </button>
</form>

<div class="categorias-container">
  <% categorias.forEach(c => { %>
    <div class="categoria-card">
      <h3><%= c.nome %></h3>
      <div class="card-btns">
        <a href="/admin/categorias/editar/<%= c.id %>" class="btn btn-editar">Editar</a>
        <a href="/admin/categorias/deletar/<%= c.id %>" class="btn btn-deletar">Excluir</a>
      </div>
    </div>
  <% }) %>
</div>

<%- include('../partials/adminFooter') %>
